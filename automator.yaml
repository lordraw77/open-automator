- name: 
  tasks:
  - name: load variable form json
    loadvarfromjeson:
        filename: /opt/a.json
  - name: print variable
    printtext:
      varname: c
  - name: set variable
    setvar:
      varname: zzz
      varvalue: pluto
  - name: readfile
    readfile:
      filename: /opt/a.t
      varname: aaa
  - name: print variable
    printtext:
      varname: aaa
  - name: "replace test con \"test \""
    replace:
      varname: aaa
      leftvalue: "test"
      rightvalue: "test "
  - name: print variable
    printtext:
      varname: aaa
  - name: write file
    writefile:
      filename: /opt/a.t2
      varname: aaa
  - name: make zip
    makezip:
      zipfilename: /opt/a.zip
      pathtozip: 
        - /opt/export/
        - /opt/exportv2/
      zipfilter: "*"
  - name: unzip
    unzip:
      zipfilename: /opt/a.zip
      pathwhereunzip: /tmp/test/
  - name: scp to remote  
    scp:
      remoteserver: "10.70.7.7"
      remoteuser: "root"
      remoteport: 22
      remotepassword: "password.123"
      localpath: /opt/a.zip
      remotepath: /root/pippo.zip
      recursive: False
      direction: localtoremote
  - name: scp to remote folder
    scp:
      remoteserver: "10.70.7.7"
      remoteuser: "root"
      remoteport: 22
      remotepassword: "password.123"
      localpath: /opt/export
      remotepath: /root/export
      recursive: True
      direction: localtoremote
  - name: scp from remote  
    scp:
      remoteserver: "10.70.7.7"
      remoteuser: "root"
      remoteport: 22
      remotepassword: "password.123"
      localpath: /opt/aremote.zip
      remotepath: /root/pipporemote.zip
      recursive: False
      direction: remotetolocal
  - name: scp from remote folder
    scp:
      remoteserver: "10.70.7.7"
      remoteuser: "root"
      remoteport: 22
      remotepassword: "password.123"
      localpath: /opt/exportremote 
      remotepath: /root/exporttemote
      recursive: True
      direction: remotetolocal
  - name: copy file or directory
    copy:
      srcpath: /opt/exportremote
      dstpath: /opt/export{zzz} 
      recursive: True
  - name: copy file or directory
    copy:
      srcpath: /opt/aremote.zip
      dstpath: /opt/aremote{zzz}.zip 
      recursive: False
  - name: remove directory
    remove:
      pathtoremove: /opt/exportremote 
      recursive: True
  - name: remove file  
    remove:
      pathtoremove: /opt/aremote.zip 
      recursive: False
  - name: print variable
    printtext:
      varname: zzz
  - name: scp to remote  
    systemd:
      remoteserver: "10.70.7.7"
      remoteuser: "root"
      remoteport: 22
      remotepassword: "password.123"
      servicename: ntpd
      servicestate: stop 
  - name: scp to remote  
    systemd:
      remoteserver: "10.70.7.7"
      remoteuser: "root"
      remoteport: 22
      remotepassword: "password.123"
      servicename: ntpd
      servicestate: start
  - name: scp to remote  
    systemd:
      remoteserver: "10.70.7.7"
      remoteuser: "root"
      remoteport: 22
      remotepassword: "password.123"
      servicename: ntpd
      servicestate: status 
  - name: replace with regex in file 
    regexreplaceinfile:
      filein: /opt/a.t
      regexmatch: test2
      regexvalue: pluto2
      fileout: /opt/az.t
  - name: renamefile file or directory
    rename:
      srcpath: /opt/az.t
      dstpath: /opt/az.t{zzz} 
  - name: execute remote command over ssh 
    remotecommand:
        remoteserver: "10.70.7.7"
        remoteuser: "root"
        remoteport: 22
        remotepassword: "password.123"
        command: "ls -al /root/"
        saveonvar: outputvar
  - name: print variable
    printtext:
      varname: outputvar